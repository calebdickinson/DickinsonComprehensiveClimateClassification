<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Embed → JSON converter</title>

<style>
body {
  font-family: system-ui;
  max-width: 900px;
  margin: 40px auto;
}

textarea {
  width: 100%;
  height: 160px;
  font-family: monospace;
  margin-bottom: 12px;
}

button {
  padding: 10px 18px;
  font-size: 16px;
  cursor: pointer;
}
</style>
</head>

<body>

<h2>Paste embed HTML → get JSON-safe media</h2>

<b>Input (paste YouTube/Wikimedia embed):</b>
<textarea id="input"></textarea>

<button onclick="convert()">Convert</button>

<br><br>

<b>Output (ready for climatemedia.json):</b>
<textarea id="output"></textarea>

<script>
function convert() {
  let html = document.getElementById('input').value.trim();

  // ONLY change width/height inside <iframe ...>
  html = html.replace(
    /<iframe[^>]*>/gi,
    tag => tag
      .replace(/width=['"][^'"]*['"]/i,  "width='1280'")
      .replace(/height=['"][^'"]*['"]/i, "height='720'")
  );

  // convert quotes for JSON
  html = html.replace(/"/g, "'");

  const result = `"${html}"`;

  document.getElementById('output').value = result;
}
</script>


</body>
</html>
